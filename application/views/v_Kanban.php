<!--
 - Activity Report
 -
 - @Author	Namchok Singhachai
 - @Create Date 27-01-2564
-->

<div class="drag-container"></div>

<div class="panel panel-primary">
    <div class="panel-heading " style=" font-size: 28px; ">
        <div class="">
            <i class="fa fa-television"></i> Kanban
        </div>
    </div>
    <div class="panel-body">
        <div class="kanban base">
            <div class="kanban board">
                <div class="kanban board-header">
                    <div class="kanban left">
                        <div class="kanban board-header-text">Cluster 0</div>
                    </div>
                </div>
                <div class="kanban board-lists">
                    <div class="kanban board-list">
                        <div class="kanban list-title text-center">
                            <b>To Do</b>
                        </div>
                        <div class="kanban card">
                            <div class="kanban card-header row">
                                <div class="col-md-10">
                                    ID: D-101
                                    <span class="label todo" style="margin-left: 10px">Plan</span>
                                </div>
                                <div class="col-md-1">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            <i class="fa fa-bars"></i>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Add new event</a></li>
                                            <li><a href="#">Clear events</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#">View calendar</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="kanban card-body">
                                <h4 class="card-title">เอกสารบทที่ 1</h4>
                            </div>
                            <div class="kanban card-footer text-muted">
                                นายนำโชค สิงหะชัย
                            </div>
                        </div>
                        <!-- End card -->
                        <div class="kanban card">
                            <div class="kanban card-header row">
                                <div class="col-md-10">
                                    ID: D-102
                                    <span class="label todo" style="margin-left: 10px">Plan</span>
                                </div>
                                <div class="col-md-1">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            <i class="fa fa-bars"></i>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Add new event</a></li>
                                            <li><a href="#">Clear events</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#">View calendar</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="kanban card-body">
                                <h4 class="card-title">ออกแบบหน้าจอ Kanban</h4>
                            </div>
                            <div class="kanban card-footer text-muted">
                                นางสาววาทินี แตงทอง
                            </div>
                        </div>
                        <!-- End card -->
                        <div class="kanban add-card">
                            <a href="#">+ Add another card</a>
                        </div>
                    </div>
                    <!-- End To Do -->
                    <div class="kanban board-list">
                        <div class="kanban list-title text-center">
                            <b>Doing</b>
                        </div>
                        <div class="kanban card ">
                            <div class="kanban card-header row">
                                <div class="col-md-10">
                                    ID: D-103
                                    <span class="label doing" style="margin-left: 10px">Doing</span>
                                </div>
                                <div class="col-md-1">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            <i class="fa fa-bars"></i>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Add new event</a></li>
                                            <li><a href="#">Clear events</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#">View calendar</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="kanban card-body">
                                <h4 class="card-title">เอกสารบทที่ 2</h4>
                            </div>
                            <div class="kanban card-footer text-muted">
                                นางสาวกาญจนพิชชา มีสุข
                            </div>
                        </div>
                        <!-- End card -->
                        <div class="kanban card">
                            <div class="kanban card-header row">
                                <div class="col-md-10">
                                    ID: D-104
                                    <span class="label doing" style="margin-left: 10px">Doing</span>
                                </div>
                                <div class="col-md-1">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            <i class="fa fa-bars"></i>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Add new event</a></li>
                                            <li><a href="#">Clear events</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#">View calendar</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="kanban card-body">
                                <h4 class="card-title">เอกสารบทที่ 4</h4>
                            </div>
                            <div class="kanban card-footer text-muted">
                                นายฉัตรเฉลิม วสุอนันต์กุล
                            </div>
                        </div>
                        <!-- End card -->
                        <div class="kanban card">
                            <div class="kanban card-header row">
                                <div class="col-md-10">
                                    ID: D-105
                                    <span class="label doing" style="margin-left: 10px">Doing</span>
                                </div>
                                <div class="col-md-1">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            <i class="fa fa-bars"></i>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Add new event</a></li>
                                            <li><a href="#">Clear events</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#">View calendar</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="kanban card-body">
                                <h4 class="card-title">เอกสารบทที่ 5</h4>
                            </div>
                            <div class="kanban card-footer text-muted">
                                นายนำโชค สิงหะชัย
                            </div>
                        </div>
                        <!-- End card -->
                        <div class="kanban add-card">
                            <a href="#">+ Add another card</a>
                        </div>
                    </div>
                    <!-- End Doing -->
                    <div class="kanban board-list">
                        <div class="kanban list-title text-center">
                            <b>Done</b>
                        </div>
                        <div class="kanban card">
                            <div class="kanban card-header row">
                                <div class="col-md-10">
                                    ID: D-106
                                    <span class="label done" style="margin-left: 10px">Success</span>
                                </div>
                                <div class="col-md-1">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            <i class="fa fa-bars"></i>
                                        </button>
                                        <ul class="dropdown-menu pull-right" role="menu">
                                            <li><a href="#">Add new event</a></li>
                                            <li><a href="#">Clear events</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#">View calendar</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="kanban card-body">
                                <h4 class="card-title">การทดสอบ</h4>
                            </div>
                            <div class="kanban card-footer text-muted">
                                นางสาวรชุดา เสนีวงษ์
                            </div>
                        </div>
                        <!-- End card -->
                        <div class="kanban add-card">
                            <a href="#">+ Add another card</a>
                        </div>
                    </div>
                    <!-- End Done -->
                </div>
            </div>
        </div>
    </div>
    <!-- End panel body -->
</div>
<!-- End panel -->

<script>
    var dragContainer = document.querySelector('.drag-container');
    var itemContainers = [].slice.call(document.querySelectorAll('.board-column-content'));
    var columnGrids = [];
    var boardGrid;

    // Init the column grids so we can drag those items around.
    itemContainers.forEach(function(container) {
        var grid = new Muuri(container, {
                items: '.board-item',
                dragEnabled: true,
                dragSort: function() {
                    return columnGrids;
                },
                dragContainer: dragContainer,
                dragAutoScroll: {
                    targets: (item) => {
                        return [{
                            element: window,
                            priority: 0
                        }, {
                            element: item.getGrid().getElement().parentNode,
                            priority: 1
                        }, ];
                    }
                },
            })
            .on('dragInit', function(item) {
                item.getElement().style.width = item.getWidth() + 'px';
                item.getElement().style.height = item.getHeight() + 'px';
            })
            .on('dragReleaseEnd', function(item) {
                item.getElement().style.width = '';
                item.getElement().style.height = '';
                item.getGrid().refreshItems([item]);
            })
            .on('layoutStart', function() {
                boardGrid.refreshItems().layout();
            });

        columnGrids.push(grid);
    });

    // Init board grid so we can drag those columns around.
    boardGrid = new Muuri('.board', {
        dragEnabled: true,
        dragHandle: '.board-column-header'
    });
</script>

<style>
    .drag-container {
        position: fixed;
        left: 0;
        top: 0;
        z-index: 1000;
    }
    /* width */
    
    .kanban ::-webkit-scrollbar {
        width: 15px;
    }
    /* Track */
    
    .kanban::-webkit-scrollbar-track {
        box-shadow: inset 0 0 5px #e4e4e4;
        /* border-radius: 5px; */
    }
    /* Handle */
    
    .kanban::-webkit-scrollbar-thumb {
        background: #acacac;
        border-radius: 20px;
    }
    /* Handle on hover */
    
    .kanban ::-webkit-scrollbar-thumb:hover {
        background: #686868;
    }
    
    .kanban .card-footer {
        text-align: right;
    }
    
    .kanban .base {
        background-color: rgb(0, 121, 191);
        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Noto Sans, Ubuntu, Droid Sans, Helvetica Neue, sans-serif;
        font-size: 14px;
        display: grid;
        grid-template-rows: max-content auto;
        grid-gap: 10px;
        height: 100%;
        padding: 5px;
    }
    
    .kanban .header {
        display: grid;
        grid-template-columns: 2fr 1fr 2fr;
    }
    
    .kanban .header .left-aligned {
        display: grid;
        grid-template-columns: repeat(3, auto);
        grid-gap: 5px;
        justify-self: flex-start;
    }
    
    .kanban .header .right-aligned {
        display: grid;
        grid-template-columns: repeat(5, auto);
        grid-gap: 5px;
        justify-self: flex-start;
    }
    
    .kanban .header .logo {
        background-color: rgba(255, 255, 255, 0.3);
        justify-self: center;
    }
    
    .kanban .header .right-aligned {
        justify-self: flex-end;
    }
    
    .kanban .board {
        display: grid;
        grid-gap: 10px;
        grid-template-rows: max-content auto;
        /* justify-items: center; */
    }
    
    .kanban .board-header {
        color: black;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
    }
    
    .kanban .board-header-text {
        font-weight: bold;
        padding: 5px;
    }
    
    .kanban .board-header .left {
        display: grid;
        grid-template-columns: repeat(4, max-content);
        grid-gap: 10px;
        justify-self: left;
    }
    
    .kanban .board-header .right {
        display: grid;
        grid-template-columns: repeat(2, max-content);
        grid-gap: 10px;
        justify-self: right;
    }
    
    .kanban .button {
        color: white;
        background-color: rgba(255, 255, 255, 0.3);
        border-radius: 5px;
        padding: 5px;
    }
    
    .kanban .board-lists {
        display: grid;
        grid-auto-columns: auto;
        grid-auto-flow: column;
        grid-gap: 8px;
        height: 550px;
        overflow: scroll;
    }
    
    .kanban .board-list {
        background-color: rgb(235, 236, 240);
        border-radius: 3px;
        display: grid;
        grid-auto-rows: max-content;
        grid-gap: 10px;
        height: max-content;
        padding: 10px;
    }
    
    .kanban .list-title {
        font-weight: bold;
        font-size: 20px;
    }
    
    .kanban .card {
        background-color: white !important;
        border-radius: 3px !important;
        box-shadow: 0 1px 0 rgba(9, 30, 66, .25) !important;
        padding: 10px !important;
    }
    
    .kanban .add-card {
        padding-top: 10px;
        padding-bottom: 5px;
    }
    
    .label {
        color: white;
        padding: 8px;
    }
    
    .done {
        background-color: #4CAF50;
    }
    /* Green */
    
    .doing {
        background-color: #ff9800;
    }
    /* Orange */
    
    .todo {
        background-color: #e7e7e7;
        color: black;
    }
    /* Gray */
</style>